function do_ecommerce_transactions(){if(jQuery("body.template-cart").length>0&&setTimeout(function(){var t="Product";jQuery("body.section-tickets").length>0&&(t="Ticket"),products=[],cart_items=jQuery("tr.cart_item");for(var e=0;e<cart_items.length;e++){var n=jQuery(cart_items[e]).find(".cart_item_title").text(),r=jQuery(cart_items[e]).find(".cart_item_price").text(),a=jQuery(cart_items[e]).find(".cart_item_count").val(),i=parseInt(a);if(i>0){var o={name:n,price:r,quantity:i,category:t};products.push(o)}}"undefined"!=typeof dataLayer&&dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:1},products:products}},eventCallback:function(){}})},2e3),jQuery("body.template-checkout").length>0&&!jQuery("body.template-checkout #cart.final-checkout").length){t="Product";jQuery("body.section-tickets").length>0&&(t="Ticket"),"undefined"!=typeof dataLayer&&dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:2},products:[]}},eventCallback:function(){}})}if(jQuery("body.template-checkout").length>0&&jQuery("body.template-checkout #cart.final-checkout").length){var t="Product";jQuery("body.section-tickets").length>0&&(t="Ticket"),setTimeout(function(){products=[],cart_items=jQuery("tr.cart_item");for(var e=0;e<cart_items.length;e++){var n=jQuery(cart_items[e]).find(".cart_item_title").text(),r=jQuery(cart_items[e]).find(".cart_item_original_price").text(),a=jQuery(cart_items[e]).find(".cart_item_count").text(),i=parseInt(a);if(i>0){var o={name:n,price:r,quantity:i,category:t};products.push(o)}}"undefined"!=typeof dataLayer&&dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:3},products:products}},eventCallback:function(){}})},1500)}jQuery("body.template-checkout #cart.final-checkout").length>0&&jQuery("#form-checkout").submit(function(t){var e="Product";jQuery("body.section-tickets").length>0&&(e="Ticket"),products=[],cart_items=jQuery("tr.cart_item");for(var n=0;n<cart_items.length;n++){var r=jQuery(cart_items[n]).find(".cart_item_title").text(),a=jQuery(cart_items[n]).find(".cart_item_original_price").text(),i=jQuery(cart_items[n]).find(".cart_item_count").text(),o=parseInt(i);if(o>0){var s={name:r,price:a,quantity:o,category:e};products.push(s)}}"undefined"!=typeof dataLayer&&dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:4},products:products}},eventCallback:function(){}})})}window.jQuery&&define("jquery",[],function(){return window.jQuery}),function(t){function e(e,o){var s,l,c;if(0==(s=t(e))[n])return r;switch(l=s[i]()[a],o.anchor){case"middle":c=l-(t(window).height()-s.outerHeight())/2;break;default:case a:c=Math.max(l,0)}return"function"==typeof o[i]?c-=o[i]():c-=o[i],c}var n="length",r=null,a="top",i="offset",o="click.scrolly";t(window);t.fn.scrolly=function(i){var s,l,c,u,d=t(this);if(0==this[n])return d;if(this[n]>1){for(s=0;s<this[n];s++)t(this[s]).scrolly(i);return d}if(u=r,"#"!=(c=d.attr("href")).charAt(0)||c[n]<2)return d;(l=jQuery.extend({anchor:a,easing:"swing",offset:0,parent:t("body,html"),pollOnce:!1,speed:1e3},i)).pollOnce&&(u=e(c,l)),d.off(o).on(o,function(t){var n=u!==r?u:e(c,l);n!==r&&(t.preventDefault(),l.parent.stop().animate({scrollTop:n},l.speed,l.easing))})}}(jQuery),jQuery.scrollzer=function(t,e){var n=jQuery(window),r=jQuery(document);n.load(function(){var a,i,o,s,l,c,u=jQuery.extend({activeClassName:"active",suffix:"-link",pad:50,firstHack:!1,lastHack:!1},e),d=[],h=jQuery();for(a in t)o=jQuery("#"+t[a]),s=jQuery("#"+t[a]+u.suffix),o.length<1||s.length<1||(i={},i.link=s,i.object=o,d[t[a]]=i,h=h.add(s));var f,p=function(){var t;for(a in d)t=d[a],t.start=Math.ceil(t.object.offset().top)-u.pad,t.end=t.start+Math.ceil(t.object.innerHeight());n.trigger("scroll")};n.resize(function(){window.clearTimeout(f),f=window.setTimeout(p,250)});var m,v=function(){h.removeClass("scrollzer-locked")};n.scroll(function(t){var e=0,i=!1;l=n.scrollTop(),window.clearTimeout(m),m=window.setTimeout(v,250);for(a in d)a!=c&&l>=d[a].start&&l<=d[a].end&&(c=a,i=!0),e++;u.lastHack&&l+n.height()>=r.height()&&(c=a,i=!0),i&&!h.hasClass("scrollzer-locked")&&(h.removeClass(u.activeClassName),d[c].link.addClass(u.activeClassName))}),n.trigger("resize")})};var skel=function(){"use strict";var t={breakpointIds:null,events:{},isInit:!1,obj:{attachments:{},breakpoints:{},head:null,states:{}},sd:"/",state:null,stateHandlers:{},stateId:"",vars:{},DOMReady:null,indexOf:null,isArray:null,iterate:null,matchesMedia:null,extend:function(e,n){t.iterate(n,function(r){t.isArray(n[r])?(t.isArray(e[r])||(e[r]=[]),t.extend(e[r],n[r])):"object"==typeof n[r]?("object"!=typeof e[r]&&(e[r]={}),t.extend(e[r],n[r])):e[r]=n[r]})},newStyle:function(t){var e=document.createElement("style");return e.type="text/css",e.innerHTML=t,e},_canUse:null,canUse:function(e){t._canUse||(t._canUse=document.createElement("div"));var n=t._canUse.style,r=e.charAt(0).toUpperCase()+e.slice(1);return e in n||"Moz"+r in n||"Webkit"+r in n||"O"+r in n||"ms"+r in n},on:function(e,n){var r=e.split(/[\s]+/);return t.iterate(r,function(e){var a=r[e];if(t.isInit){if("init"==a)return void n();if("change"==a)n();else{var i=a.charAt(0);if("+"==i||"!"==i){var o=a.substring(1);if(o in t.obj.breakpoints)if("+"==i&&t.obj.breakpoints[o].active)n();else if("!"==i&&!t.obj.breakpoints[o].active)return void n()}}}t.events[a]||(t.events[a]=[]),t.events[a].push(n)}),t},trigger:function(e){if(t.events[e]&&0!=t.events[e].length)return t.iterate(t.events[e],function(n){t.events[e][n]()}),t},breakpoint:function(e){return t.obj.breakpoints[e]},breakpoints:function(e){function n(t,e){this.name=this.id=t,this.media=e,this.active=!1,this.wasActive=!1}return n.prototype.matches=function(){return t.matchesMedia(this.media)},n.prototype.sync=function(){this.wasActive=this.active,this.active=this.matches()},t.iterate(e,function(r){t.obj.breakpoints[r]=new n(r,e[r])}),window.setTimeout(function(){t.poll()},0),t},addStateHandler:function(e,n){t.stateHandlers[e]=n},callStateHandler:function(e){var n=t.stateHandlers[e]();t.iterate(n,function(e){t.state.attachments.push(n[e])})},changeState:function(e){t.iterate(t.obj.breakpoints,function(e){t.obj.breakpoints[e].sync()}),t.vars.lastStateId=t.stateId,t.stateId=e,t.breakpointIds=t.stateId===t.sd?[]:t.stateId.substring(1).split(t.sd),t.obj.states[t.stateId]?t.state=t.obj.states[t.stateId]:(t.obj.states[t.stateId]={attachments:[]},t.state=t.obj.states[t.stateId],t.iterate(t.stateHandlers,t.callStateHandler)),t.detachAll(t.state.attachments),t.attachAll(t.state.attachments),t.vars.stateId=t.stateId,t.vars.state=t.state,t.trigger("change"),t.iterate(t.obj.breakpoints,function(e){t.obj.breakpoints[e].active?t.obj.breakpoints[e].wasActive||t.trigger("+"+e):t.obj.breakpoints[e].wasActive&&t.trigger("-"+e)})},generateStateConfig:function(e,n){var r={};return t.extend(r,e),t.iterate(t.breakpointIds,function(e){t.extend(r,n[t.breakpointIds[e]])}),r},getStateId:function(){var e="";return t.iterate(t.obj.breakpoints,function(n){var r=t.obj.breakpoints[n];r.matches()&&(e+=t.sd+r.id)}),e},poll:function(){var e="";""===(e=t.getStateId())&&(e=t.sd),e!==t.stateId&&t.changeState(e)},_attach:null,attach:function(e){var n=t.obj.head,r=e.element;return(!r.parentNode||!r.parentNode.tagName)&&(t._attach||(t._attach=n.firstChild),n.insertBefore(r,t._attach.nextSibling),e.permanent&&(t._attach=r),!0)},attachAll:function(e){var n=[];t.iterate(e,function(t){n[e[t].priority]||(n[e[t].priority]=[]),n[e[t].priority].push(e[t])}),n.reverse(),t.iterate(n,function(e){t.iterate(n[e],function(r){t.attach(n[e][r])})})},detach:function(t){var e=t.element;return!(t.permanent||!e.parentNode||e.parentNode&&!e.parentNode.tagName)&&(e.parentNode.removeChild(e),!0)},detachAll:function(e){var n={};t.iterate(e,function(t){n[e[t].id]=!0}),t.iterate(t.obj.attachments,function(e){e in n||t.detach(t.obj.attachments[e])})},attachment:function(e){return e in t.obj.attachments?t.obj.attachments[e]:null},newAttachment:function(e,n,r,a){return t.obj.attachments[e]={id:e,element:n,priority:r,permanent:a}},init:function(){t.initMethods(),t.initVars(),t.initEvents(),t.obj.head=document.getElementsByTagName("head")[0],t.isInit=!0,t.trigger("init")},initEvents:function(){t.on("resize",function(){t.poll()}),t.on("orientationChange",function(){t.poll()}),t.DOMReady(function(){t.trigger("ready")}),window.onload&&t.on("load",window.onload),window.onload=function(){t.trigger("load")},window.onresize&&t.on("resize",window.onresize),window.onresize=function(){t.trigger("resize")},window.onorientationchange&&t.on("orientationChange",window.onorientationchange),window.onorientationchange=function(){t.trigger("orientationChange")}},initMethods:function(){document.addEventListener?function(e,n){t.DOMReady=n()}(0,function(){function t(t){for(i=1;t=n.shift();)t()}var e,n=[],r=document,a="DOMContentLoaded",i=/^loaded|^c/.test(r.readyState);return r.addEventListener(a,e=function(){r.removeEventListener(a,e),t()}),function(t){i?t():n.push(t)}}):function(e,n){t.DOMReady=n()}(0,function(t){function e(t){for(d=1;t=r.shift();)t()}var n,r=[],a=document,i=a.documentElement,o=i.doScroll,s="DOMContentLoaded",l="addEventListener",c="onreadystatechange",u="readyState",d=(o?/^loaded|^c/:/^loaded|c/).test(a[u]);return a[l]&&a[l](s,n=function(){a.removeEventListener(s,n,!1),e()},!1),o&&a.attachEvent(c,n=function(){/^c/.test(a[u])&&(a.detachEvent(c,n),e())}),t=o?function(e){self!=top?d?e():r.push(e):function(){try{i.doScroll("left")}catch(n){return setTimeout(function(){t(e)},50)}e()}()}:function(t){d?t():r.push(t)}}),Array.prototype.indexOf?t.indexOf=function(t,e){return t.indexOf(e)}:t.indexOf=function(t,e){if("string"==typeof t)return t.indexOf(e);var n,r,a=e||0;if(!this)throw new TypeError;if(0===(r=this.length)||a>=r)return-1;for(a<0&&(a=r-Math.abs(a)),n=a;n<r;n++)if(this[n]===t)return n;return-1},Array.isArray?t.isArray=function(t){return Array.isArray(t)}:t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},Object.keys?t.iterate=function(t,e){if(!t)return[];var n,r=Object.keys(t);for(n=0;r[n]&&!1!==e(r[n],t[r[n]]);n++);}:t.iterate=function(t,e){if(!t)return[];var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!1===e(n,t[n]))break},window.matchMedia?t.matchesMedia=function(t){return""==t||window.matchMedia(t).matches}:window.styleMedia||window.media?t.matchesMedia=function(t){return""==t||(window.styleMedia||window.media).matchMedium(t||"all")}:window.getComputedStyle?t.matchesMedia=function(t){if(""==t)return!0;var e=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),r="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle;var a="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=a:e.textContent=a,"1px"===r.width}:t.matchesMedia=function(t){if(""==t)return!0;var e,n,r,a,i={"min-width":null,"max-width":null},o=!1;for(r=t.split(/\s+and\s+/),e=0;e<r.length;e++)"("==(n=r[e]).charAt(0)&&2==(a=(n=n.substring(1,n.length-1)).split(/:\s+/)).length&&(i[a[0].replace(/^\s+|\s+$/g,"")]=parseInt(a[1]),o=!0);if(!o)return!1;var s=document.documentElement.clientWidth,l=document.documentElement.clientHeight;return!(null!==i["min-width"]&&s<i["min-width"]||null!==i["max-width"]&&s>i["max-width"]||null!==i["min-height"]&&l<i["min-height"]||null!==i["max-height"]&&l>i["max-height"])},navigator.userAgent.match(/MSIE ([0-9]+)/)&&RegExp.$1<9&&(t.newStyle=function(t){var e=document.createElement("span");return e.innerHTML='&nbsp;<style type="text/css">'+t+"</style>",e})},initVars:function(){var e,n,r,a=navigator.userAgent;e="other",n=0,r=[["firefox",/Firefox\/([0-9\.]+)/],["bb",/BlackBerry.+Version\/([0-9\.]+)/],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/],["opera",/OPR\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)/],["edge",/Edge\/([0-9\.]+)/],["safari",/Version\/([0-9\.]+).+Safari/],["chrome",/Chrome\/([0-9\.]+)/],["ie",/MSIE ([0-9]+)/],["ie",/Trident\/.+rv:([0-9]+)/]],t.iterate(r,function(t,r){if(a.match(r[1]))return e=r[0],n=parseFloat(RegExp.$1),!1}),t.vars.browser=e,t.vars.browserVersion=n,e="other",n=0,r=[["ios",/([0-9_]+) like Mac OS X/,function(t){return t.replace("_",".").replace("_","")}],["ios",/CPU like Mac OS X/,function(t){return 0}],["wp",/Windows Phone ([0-9\.]+)/,null],["android",/Android ([0-9\.]+)/,null],["mac",/Macintosh.+Mac OS X ([0-9_]+)/,function(t){return t.replace("_",".").replace("_","")}],["windows",/Windows NT ([0-9\.]+)/,null],["bb",/BlackBerry.+Version\/([0-9\.]+)/,null],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/,null]],t.iterate(r,function(t,r){if(a.match(r[1]))return e=r[0],n=parseFloat(r[2]?r[2](RegExp.$1):RegExp.$1),!1}),t.vars.os=e,t.vars.osVersion=n,t.vars.IEVersion="ie"==t.vars.browser?t.vars.browserVersion:99,t.vars.touch="wp"==t.vars.os?navigator.msMaxTouchPoints>0:!!("ontouchstart"in window),t.vars.mobile="wp"==t.vars.os||"android"==t.vars.os||"ios"==t.vars.os||"bb"==t.vars.os}};return t.init(),t}();!function(t,e){t.skel=e()}(this,function(){return skel}),function(t){t.fn.navList=function(){var e=t(this);return $a=e.find("a"),b=[],$a.each(function(){var e=t(this),n=Math.max(0,e.parents("li").length-1),r=e.attr("href"),a=e.attr("target");b.push('<a class="link depth-'+n+'"'+(void 0!==a&&""!=a?' target="'+a+'"':"")+(void 0!==r&&""!=r?' href="'+r+'"':"")+'><span class="indent-'+n+'"></span>'+e.text()+"</a>")}),b.join("")},t.fn.panel=function(e){if(0==this.length)return a;if(this.length>1){for(var n=0;n<this.length;n++)t(this[n]).panel(e);return a}var r,a=t(this),i=t("body"),o=t(window),s=a.attr("id");return"jQuery"!=typeof(r=t.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:a,visibleClass:"visible"},e)).target&&(r.target=t(r.target)),a._hide=function(t){r.target.hasClass(r.visibleClass)&&(t&&(t.preventDefault(),t.stopPropagation()),r.target.removeClass(r.visibleClass),window.setTimeout(function(){r.resetScroll&&a.scrollTop(0),r.resetForms&&a.find("form").each(function(){this.reset()})},r.delay))},a.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),r.hideOnClick&&(a.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),a.on("click","a",function(e){var n=t(this),i=n.attr("href"),o=n.attr("target");i&&"#"!=i&&""!=i&&i!="#"+s&&(e.preventDefault(),e.stopPropagation(),a._hide(),window.setTimeout(function(){"_blank"==o?window.open(i):window.location.href=i},r.delay+10))})),a.on("touchstart",function(t){a.touchPosX=t.originalEvent.touches[0].pageX,a.touchPosY=t.originalEvent.touches[0].pageY}),a.on("touchmove",function(t){if(null!==a.touchPosX&&null!==a.touchPosY){var e=a.touchPosX-t.originalEvent.touches[0].pageX,n=a.touchPosY-t.originalEvent.touches[0].pageY,i=a.outerHeight(),o=a.get(0).scrollHeight-a.scrollTop();if(r.hideOnSwipe){var s=!1;switch(r.side){case"left":s=n<20&&n>-20&&e>50;break;case"right":s=n<20&&n>-20&&e<-50;break;case"top":s=e<20&&e>-20&&n>50;break;case"bottom":s=e<20&&e>-20&&n<-50}if(s)return a.touchPosX=null,a.touchPosY=null,a._hide(),!1}(a.scrollTop()<0&&n<0||o>i-2&&o<i+2&&n>0)&&(t.preventDefault(),t.stopPropagation())}}),a.on("click touchend touchstart touchmove",function(t){t.stopPropagation()}),a.on("click",'a[href="#'+s+'"]',function(t){t.preventDefault(),t.stopPropagation(),r.target.removeClass(r.visibleClass)}),jQuery("#website-wrapper").on("click touchend",function(t){a._hide(t)}),i.on("click",'a[href="#'+s+'"]',function(t){t.preventDefault(),t.stopPropagation(),r.target.toggleClass(r.visibleClass)}),r.hideOnEscape&&o.on("keydown",function(t){27==t.keyCode&&a._hide(t)}),a},t.fn.placeholder=function(){if(void 0!==document.createElement("input").placeholder)return t(this);if(0==this.length)return n;if(this.length>1){for(var e=0;e<this.length;e++)t(this[e]).placeholder();return n}var n=t(this);return n.find("input[type=text],textarea").each(function(){var e=t(this);""!=e.val()&&e.val()!=e.attr("placeholder")||e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=t(this);e.attr("name").match(/-polyfill-field$/)||""==e.val()&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=t(this);e.attr("name").match(/-polyfill-field$/)||e.val()==e.attr("placeholder")&&e.removeClass("polyfill-placeholder").val("")}),n.find("input[type=password]").each(function(){var e=t(this),n=t(t("<div>").append(e.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));""!=e.attr("id")&&n.attr("id",e.attr("id")+"-polyfill-field"),""!=e.attr("name")&&n.attr("name",e.attr("name")+"-polyfill-field"),n.addClass("polyfill-placeholder").val(n.attr("placeholder")).insertAfter(e),""==e.val()?e.hide():n.hide(),e.on("blur",function(t){t.preventDefault();var n=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]");""==e.val()&&(e.hide(),n.show())}),n.on("focus",function(t){t.preventDefault();var e=n.parent().find("input[name="+n.attr("name").replace("-polyfill-field","")+"]");n.hide(),e.show().focus()}).on("keypress",function(t){t.preventDefault(),n.val("")})}),n.on("submit",function(){n.find("input[type=text],input[type=password],textarea").each(function(e){var n=t(this);n.attr("name").match(/-polyfill-field$/)&&n.attr("name",""),n.val()==n.attr("placeholder")&&(n.removeClass("polyfill-placeholder"),n.val(""))})}).on("reset",function(e){e.preventDefault(),n.find("select").val(t("option:first").val()),n.find("input,textarea").each(function(){var e,n=t(this);switch(n.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":n.val(n.attr("defaultValue")),e=n.parent().find("input[name="+n.attr("name")+"-polyfill-field]"),""==n.val()?(n.hide(),e.show()):(n.show(),e.hide());break;case"checkbox":case"radio":n.attr("checked",n.attr("defaultValue"));break;case"text":case"textarea":n.val(n.attr("defaultValue")),""==n.val()&&(n.addClass("polyfill-placeholder"),n.val(n.attr("placeholder")));break;default:n.val(n.attr("defaultValue"))}})}),n},t.prioritize=function(e,n){var r="__prioritize";"jQuery"!=typeof e&&(e=t(e)),e.each(function(){var e,a=t(this),i=a.parent();if(0!=i.length)if(a.data(r)){if(n)return;e=a.data(r),a.insertAfter(e),a.removeData(r)}else{if(!n)return;if(0==(e=a.prev()).length)return;a.prependTo(i),a.data(r,e)}})}}(jQuery),function(t){skel.breakpoints({wide:"(min-width: 961px) and (max-width: 1880px)",normal:"(min-width: 961px) and (max-width: 1620px)",narrow:"(min-width: 961px) and (max-width: 1320px)",narrower:"(max-width: 960px)",mobile:"(max-width: 736px)"}),t(function(){var e=t(window),n=t("body");n.addClass("is-loading"),e.on("load",function(){n.removeClass("is-loading")}),skel.vars.IEVersion<9&&t(":last-child").addClass("last-child"),t("form").placeholder(),skel.on("+mobile -mobile",function(){t.prioritize(".important\\28 mobile\\29",skel.breakpoint("mobile").active)}),t('<div id="headerToggle"><a href="#left-header" class="toggle">M<br>E<br>N<br>U</a></div>').appendTo(n),t("#left-header").panel({delay:200,hideOnClick:!0,hideOnSwipe:!1,resetScroll:!0,resetForms:!0,side:"left",target:n,visibleClass:"header-visible"}),"wp"==skel.vars.os&&skel.vars.osVersion<10&&t("#headerToggle, #left-header, #website-wrapper").css("transition","none")})}(jQuery);var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};jQuery(document).ready(function(t){+function(t,e,n){"use strict";var r={calc:!1};e.fn.rrssb=function(t){var r=e.extend({description:n,emailAddress:n,emailBody:n,emailSubject:n,image:n,title:n,url:n},t);r.emailSubject=r.emailSubject||r.title,r.emailBody=r.emailBody||(r.description?r.description:"")+(r.url?"\n\n"+r.url:"");for(var a in r)r.hasOwnProperty(a)&&r[a]!==n&&(r[a]=i(r[a]));r.url!==n&&(e(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+r.url),e(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+r.url+(r.title!==n?"&name="+r.title:"")+(r.description!==n?"&description="+r.description:"")),e(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+r.url+(r.title!==n?"&title="+r.title:"")+(r.description!==n?"&summary="+r.description:"")),e(this).find(".rrssb-twitter a").attr("href","https://twitter.com/share?text="+(r.description!==n?r.description:"")),e(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+r.url+(r.title!==n?"&text="+r.title:"")),e(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+r.url+(r.description!==n?"&text="+r.description:"")+(r.title!==n?"&title="+r.title:"")),e(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+(r.description!==n?r.description:"")+"%20"+r.url),e(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+r.url+(r.image!==n?"&amp;media="+r.image:"")+(r.description!==n?"&description="+r.description:"")),e(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+r.url),e(this).find(".rrssb-github a").attr("href",r.url),e(this).find(".rrssb-print a").attr("href","javascript:window.print()"),e(this).find(".rrssb-whatsapp a").attr("href","whatsapp://send?text="+(r.description!==n?r.description+"%20":r.title!==n?r.title+"%20":"")+r.url)),(r.emailAddress!==n||r.emailSubject)&&e(this).find(".rrssb-email a").attr("href","mailto:"+(r.emailAddress?r.emailAddress:"")+"?"+(r.emailSubject!==n?"subject="+r.emailSubject:"")+(r.emailBody!==n?"&body="+r.emailBody:""))};var a=function(){var t=e("<div>"),n=["calc","-webkit-calc","-moz-calc"];e("body").append(t);for(var a=0;a<n.length;a++)if(t.css("width",n[a]+"(1px)"),1===t.width()){r.calc=n[a];break}t.remove()},i=function(t){if(t!==n&&null!==t){if(null===t.match(/%[0-9a-f]{2}/i))return encodeURIComponent(t);t=decodeURIComponent(t),i(t)}},o=function(){e(".rrssb-buttons").each(function(t){var n=e(this),r=e("li:visible",n),a=100/r.length;r.css("width",a+"%").attr("data-initwidth",a)})},s=function(){e(".rrssb-buttons").each(function(t){var n=e(this),r=n.width(),a=e("li",n).not(".small").eq(0).width(),i=e("li.small",n).length;if(a>170&&1>i){n.addClass("large-format");var o=a/12+"px";n.css("font-size",o)}else n.removeClass("large-format"),n.css("font-size","");25*i>r?n.removeClass("small-format").addClass("tiny-format"):n.removeClass("tiny-format")})},l=function(){e(".rrssb-buttons").each(function(t){var n=e(this),r=e("li",n),a=r.filter(".small"),i=0,o=0,s=a.eq(0),l=parseFloat(s.attr("data-size"))+55,c=a.length;if(c===r.length){var d=42*c;n.width()>d+l&&(n.removeClass("small-format"),a.eq(0).removeClass("small"),u())}else r.not(".small").each(function(t){var n=e(this),r=parseFloat(n.attr("data-size"))+55,a=parseFloat(n.width());i+=a,o+=r}),i-o>l&&(s.removeClass("small"),u())})},c=function(t){e(".rrssb-buttons").each(function(t){var n=e(this),r=e("li",n);e(r.get().reverse()).each(function(t,n){var a=e(this);if(!1===a.hasClass("small")&&parseFloat(a.attr("data-size"))+55>parseFloat(a.width())){var i=r.not(".small").last();e(i).addClass("small"),u()}--n||l()})}),!0===t&&h(u)},u=function(){e(".rrssb-buttons").each(function(t){var n,a,i,s,l,c=e(this),u=e("li",c),d=u.filter(".small"),h=d.length;h>0&&h!==u.length?(c.removeClass("small-format"),d.css("width","42px"),i=42*h,n=u.not(".small").length,a=100/n,l=i/n,!1===r.calc?(s=(c.innerWidth()-1)/n-l,s=Math.floor(1e3*s)/1e3,s+="px"):s=r.calc+"("+a+"% - "+l+"px)",u.not(".small").css("width",s)):h===u.length?(c.addClass("small-format"),o()):(c.removeClass("small-format"),o())}),s()},d=function(){e(".rrssb-buttons").each(function(t){e(this).addClass("rrssb-"+(t+1))}),a(),o(),e(".rrssb-buttons li .rrssb-text").each(function(t){var n=e(this),r=n.width();n.closest("li").attr("data-size",r)}),c(!0)},h=function(t){e(".rrssb-buttons li.small").removeClass("small"),c(),t()},f=function(e,r,a,i){var o=t.screenLeft!==n?t.screenLeft:screen.left,s=t.screenTop!==n?t.screenTop:screen.top,l=(t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-a/2+o,c=(t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-i/3+s,u=t.open(e,r,"scrollbars=yes, width="+a+", height="+i+", top="+c+", left="+l);u&&u.focus&&u.focus()},p=function(){var t={};return function(e,n,r){r||(r="Don't call this twice without a uniqueId"),t[r]&&clearTimeout(t[r]),t[r]=setTimeout(e,n)}}();e(document).ready(function(){try{e(document).on("click",".rrssb-buttons a.popup",{},function(t){var n=e(this);f(n.attr("href"),n.find(".rrssb-text").html(),580,470),t.preventDefault()})}catch(t){}e(t).resize(function(){h(u),p(function(){h(u)},200,"finished resizing")}),d()}),t.rrssbInit=d}(window,jQuery),document.documentMode&&(document.documentElement.className+=" ie"+document.documentMode);document.body;jQuery("#first-column-wrapper").length&&imagesLoaded("#first-column-wrapper",function(){var e=document.querySelector("#portletPageFirstColumn #first-column-wrapper");new Masonry(e,{itemSelector:"#first-column-wrapper > div",gutter:16,fitWidth:!0,columnWidth:210,horizontalOrder:!0});t("#first-column-wrapper").addClass("init")}),jQuery("body").hasClass("template-advancedsearch")&&jQuery("#advanced_search_form").submit(function(){jQuery("input").each(function(){""==jQuery(this).val()&&jQuery(this).attr("name","")})}),jQuery("#sharing-buttons-toggle").on("click",function(t){t.preventDefault(),jQuery(".sharing-buttons-wrapper").toggleClass("open")}),jQuery("#images-only-filter").change(function(){jQuery(this).attr("checked")?jQuery(this).val("False"):jQuery(this).val("True")}),jQuery("#row-items").length&&jQuery(".tileImage").hover(function(){jQuery(this).parents("article.entry, .col-lg-4").find(".item-title a").addClass("hover")},function(){jQuery(this).parents("article.entry, .col-lg-4").find(".item-title a").removeClass("hover")}),jQuery("ul.nav li.dropdown").click(function(){jQuery(this).closest(".dropdown-menu").stop(!0,!0).show(),jQuery(this).toggleClass("open")}),isMobile.any()?jQuery("body").addClass("mobile"):jQuery("body").addClass("no-touch"),do_ecommerce_transactions()}),_logger={},_logger.debug=!1,_logger.log=function(t){_logger.debug&&console.log(t)},require(["jquery","pat-registry"],function(t,e){t(document).on("readyAgain",function(n,r){var a=t("body");"readyAgain"==n.type&&(a=r.fieldset_id,e.scan(t(a)))})}),require(["jquery"],function(t,e,n){"use strict";window.parent===window&&jQuery(document).ready(function(){jQuery("body").addClass("kunsthalkade-main")})}),jQuery(document).ready(function(){function t(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=new Image;r.src=t,e.width=r.width,e.height=r.height,n.drawImage(r,0,0);for(var a=n.getImageData(0,0,e.width,e.height),i=0;i<a.height;i++)for(var o=0;o<a.width;o++){var s=4*i*a.width+4*o,l=(a.data[s]+a.data[s+1]+a.data[s+2])/3;a.data[s]=l,a.data[s+1]=l,a.data[s+2]=l}return n.putImageData(a,0,0,0,0,a.width,a.height),e.toDataURL()}function e(){navigator.userAgent.toLowerCase();var t=navigator.userAgent.match(/chrome/i),e=navigator.userAgent.match(/webkit/i),n=navigator.userAgent.match(/opera/i),r=navigator.userAgent.match(/msie/i)&&!navigator.userAgent.match(/opera/i),a=navigator.userAgent.match(/mozilla/i);return t?"chrome":a?"mozilla":n?"opera":e?"safari":r?"ie":void 0}function n(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){e=navigator.userAgent;null!=(n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})")).exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var e=navigator.userAgent,n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=n.exec(e)&&(t=parseFloat(RegExp.$1))}return t}if("opera"==e()){var r=jQuery(".thumb-wrapper.past-event img"),a=r.length,i=0;r.one("load",function(){++i==a&&grayscale(jQuery(".thumb-wrapper.past-event img"))}).each(function(){this.complete&&jQuery(this).trigger("load")})}n()>=10&&jQuery(".thumb-wrapper.past-event img").each(function(){var e=jQuery(this);e.css({position:"absolute"}).wrap("<div class='img_wrapper' style='display: inline-block'>").clone().addClass("img_grayscale").css({position:"absolute","z-index":"5",opacity:"0"}).insertBefore(e).queue(function(){var t=jQuery(this);t.parent().css({width:this.width,height:this.height}),t.dequeue()}),this.src=t(this.src)}),"mozilla"==e()?jQuery("body").addClass("mozilla"):"ie"==e()?jQuery("body").addClass("ie"):"opera"==e()?jQuery("body").addClass("opera"):"safari"==e()?jQuery("body").addClass("safari"):"chrome"==e()&&jQuery("body").addClass("chrome"),n()>=10&&jQuery("body").addClass("ie11")});